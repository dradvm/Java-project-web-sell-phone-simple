<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
      xmlns:b="http://bootsfaces.net/ui"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <title>Facelet Title</title>
        <link
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
            rel="stylesheet"
            />
        <link
            href="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/7.1.0/mdb.min.css"
            rel="stylesheet"
            />
        <link
            href="resources/css/bootstrap.min.css"
            rel="stylesheet"
            />
    </h:head>
    <h:body>
        <script
            type="text/javascript"
            src="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/7.1.0/mdb.umd.min.js"
        ></script>
        <script
            type="text/javascript"
            src="resources/js/bootstrap.bundle.min.js"
        ></script>
        <!-- Navbar -->
        <f:metadata>
            <f:event type="preRenderView" listener="#{loginMB.directIfNotLogined()}" />
        </f:metadata>
        <ui:include src="navbar.xhtml" />

        <!-- Navbar -->
        <div class="py-4"></div>
        <div class="container mt-5">
            <div class="row">
                <div class="col-6">
                    <img src="#{productMB.productDetails.productImage}" class="img-fluid" style="height: 400px"/>
                </div>
                <div class="col-6 d-flex align-items-center">
                    <div class="d-flex flex-column w-100">
                        <h4>#{productMB.productDetails.productName}</h4>
                        <h5>#{productMB.productDetails.productDescriptions}</h5>
                        <h5 class="w-100 bg-light text-danger d-flex align-items-center justify-content-around py-2 my-2">#{productMB.productDetails.productPrice}</h5>
                        <div class="d-flex align-items-center mt-2">
                            <div>Quantity: </div>
                            <h:form class="d-flex justify-content-between border ms-3" style="width: 90px">
                                <h:commandButton value="-"  action="#{productMB.minusQuantity()}"/>
                                <div class="w-100 d-flex justify-content-around lh-1 align-items-center">#{productMB.quantity}</div>
                                <h:commandButton value="+" action="#{productMB.plusQuantity()}" />
                            </h:form>
                            <div class="ms-3">
                                #{productMB.productDetails.productStock} In Stock
                            </div>
                        </div>
                        <h:form class="mt-3">
                            <h:commandLink class="w-100" action="#{cartMB.addCart(productMB.productDetails, productMB.quantity)}">
                                <button type="button" class="w-100 btn btn-primary">Add to cart</button>
                            </h:commandLink>
                        </h:form>
                    </div>
                </div>
            </div>
        </div>
    </h:body>
</html>
